{{ 'section-hero-norvue.css' | asset_url | stylesheet_tag }}

<div class="hero-norvue color-{{ section.settings.color_scheme }}">
  <div class="hero-norvue__container">
    <div class="hero-norvue__content">
      <div class="hero-norvue__text-wrapper animate-element">
        {%- if section.settings.heading != blank -%}
          <h1 class="hero-norvue__heading">{{ section.settings.heading }}</h1>
        {%- endif -%}

        {%- if section.settings.text != blank -%}
          <div class="hero-norvue__text rte">{{ section.settings.text }}</div>
        {%- endif -%}

        {%- if section.settings.button_label != blank -%}
          <div class="hero-norvue__button-wrapper">
            <a
              href="{{ section.settings.button_link }}"
              class="hero-norvue__button button{% if section.settings.button_style_secondary %} button--secondary{% else %} button--primary{% endif %}"
            >
              {{ section.settings.button_label | escape }}
            </a>
          </div>
        {%- endif -%}
      </div>
    </div>

    <div class="hero-norvue__image-container">
      {%- if section.settings.image != blank -%}
        <img
          srcset="
            {%- if section.settings.image.width >= 375 -%}{{ section.settings.image | image_url: width: 375 }} 375w,{%- endif -%}
            {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | image_url: width: 750 }} 750w,{%- endif -%}
            {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | image_url: width: 1100 }} 1100w,{%- endif -%}
            {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | image_url: width: 1500 }} 1500w,{%- endif -%}
            {%- if section.settings.image.width >= 2200 -%}{{ section.settings.image | image_url: width: 2200 }} 2200w,{%- endif -%}
            {{ section.settings.image | image_url }} {{ section.settings.image.width }}w
          "
          sizes="(min-width: 750px) 50vw, 100vw"
          src="{{ section.settings.image | image_url: width: 1500 }}"
          loading="eager"
          fetchpriority="high"
          alt="{{ section.settings.image.alt | escape }}"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.height }}"
          class="hero-norvue__image"
        >
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
      {%- endif -%}
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const animatedElements = document.querySelectorAll('.animate-element');

    // Sæt initial styling på elementer
    animatedElements.forEach((element) => {
      element.style.opacity = '0';
      element.style.transform = 'translateX(-30px)';
    });

    // Observer til fade-in animation
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Trigger animation når element er synligt
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateX(0)';
            observer.unobserve(entry.target);
          }
        });
      },
      {
        threshold: 0.1,
      }
    );

    // Observer alle animerede elementer
    animatedElements.forEach((element) => {
      observer.observe(element);
    });
  });
</script>

{% schema %}
{
  "name": "Split Hero",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "NORVUE Collection",
      "label": "Overskrift"
    },
    {
      "type": "richtext",
      "id": "text",
      "default": "<p>Fortæl om din kollektion her. Beskriv stilen, inspirationen og det unikke ved dine produkter. Denne tekst bør hjælpe kunderne med at forstå din brands værdier.</p>",
      "label": "Tekst"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Shop nu",
      "label": "Knap tekst"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Knap link"
    },
    {
      "type": "checkbox",
      "id": "button_style_secondary",
      "default": false,
      "label": "Brug sekundær knap-stil"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Billede"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Farveskema",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "NORVUE Split Hero",
      "category": "Hero"
    }
  ]
}
{% endschema %}
