{{ 'section-hero-norvue.css' | asset_url | stylesheet_tag }}

<div class="hero-norvue">
  <div class="hero-norvue__container color-{{ section.settings.color_scheme }}">
    <div class="hero-norvue__text-column animate-element">
      <div class="hero-norvue__text-content">
        {%- if section.settings.heading != blank -%}
          <h1 class="hero-norvue__heading">{{ section.settings.heading }}</h1>
        {%- endif -%}

        {%- if section.settings.text != blank -%}
          <div class="hero-norvue__text rte">{{ section.settings.text }}</div>
        {%- endif -%}

        {%- if section.settings.button_label != blank -%}
          <div class="hero-norvue__button-wrapper">
            <a
              href="{{ section.settings.button_link }}"
              class="hero-norvue__button button{% if section.settings.button_style_secondary %} button--secondary{% else %} button--primary{% endif %}"
            >
              {{ section.settings.button_label | escape }}
            </a>
          </div>
        {%- endif -%}
      </div>
    </div>

    <div
      class="hero-norvue__image-column"
      {% if section.settings.image != blank %}
        style="background-image: url('{{ section.settings.image | img_url: 'master' }}');"
      {% endif %}
    ></div>
    <div
      class="hero-norvue__image-column"
      {% if section.settings.image != blank %}
        style="background-image: url('{{ section.settings.image | img_url: 'master' }}');"
      {% else %}
        style="background-color: #f4f4f4;"
      {% endif %}
    ></div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const animatedElements = document.querySelectorAll('.animate-element');

    // Sæt initial styling på elementer
    animatedElements.forEach((element) => {
      element.style.opacity = '0';
      element.style.transform = 'translateX(-40px)';
      element.style.transition = 'opacity 0.9s ease-out, transform 0.9s ease-out';
    });

    // Observer til fade-in animation
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Trigger animation når element er synligt
            setTimeout(() => {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateX(0)';
            }, 150);
            observer.unobserve(entry.target);
          }
        });
      },
      {
        threshold: 0.15,
      }
    );

    // Observer alle animerede elementer
    animatedElements.forEach((element) => {
      observer.observe(element);
    });
  });
</script>

{% schema %}
{
  "name": "Hero Banner",
  "tag": "section",
  "class": "section section-full-height",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "NORVUE Collection",
      "label": "Overskrift"
    },
    {
      "type": "richtext",
      "id": "text",
      "default": "<p>Moderne design med fokus på kvalitet og bæredygtighed. Oplev vores kollektion af tidløse stykker, der kombinerer skandinavisk æstetik med funktionalitet.</p>",
      "label": "Tekst"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Shop nu",
      "label": "Knap tekst"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Knap link"
    },
    {
      "type": "checkbox",
      "id": "button_style_secondary",
      "default": false,
      "label": "Brug sekundær knap-stil"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Baggrundsbillede"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Farveskema",
      "default": "background-1"
    }
  ],
  "presets": [
    {
      "name": "NORVUE Hero",
      "category": "Hero"
    }
  ]
}
{% endschema %}
