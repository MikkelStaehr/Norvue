{{ 'section-hero-norvue.css' | asset_url | stylesheet_tag }}

<div class="hero-norvue">
  <div class="hero-norvue__wrapper color-{{ section.settings.color_scheme }}">
    <div class="hero-norvue__text-column animate-element">
      <div class="hero-norvue__text-content">
        {%- if section.settings.heading != blank -%}
          <h1 class="hero-norvue__heading">{{ section.settings.heading }}</h1>
        {%- endif -%}

        {%- if section.settings.subtext != blank -%}
          <div class="hero-norvue__subtext rte">{{ section.settings.subtext }}</div>
        {%- endif -%}

        {%- if section.settings.button_label != blank -%}
          <a href="{{ section.settings.button_link }}" class="hero-norvue__button">
            {{ section.settings.button_label | escape }}
          </a>
        {%- endif -%}
      </div>
    </div>

    <div class="hero-norvue__image-column">
      <div
        class="hero-norvue__image"
        {% if section.settings.image != blank %}
          style="background-image: url({{ section.settings.image | img_url: '1500x' }});"
        {% endif %}
      ></div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const animatedElements = document.querySelectorAll('.animate-element');

    // Sæt initial styling
    animatedElements.forEach((element) => {
      element.style.opacity = '0';
      element.style.transform = 'translateX(-30px)';
    });

    // Observer til fade-in animation
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Trigger animation
            setTimeout(() => {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateX(0)';
            }, 150);
            observer.unobserve(entry.target);
          }
        });
      },
      {
        threshold: 0.1,
      }
    );

    // Observer alle animerede elementer
    animatedElements.forEach((element) => {
      observer.observe(element);
    });
  });
</script>

{% schema %}
{
  "name": "Hero Banner",
  "tag": "section",
  "class": "section section-hero",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "TANREVEL LIVING",
      "label": "Overskrift"
    },
    {
      "type": "richtext",
      "id": "subtext",
      "default": "<p>Smukke boligtekstiler af allergivenlige og bæredygtige kvaliteter - præcis som et hjem skal føles.</p>",
      "label": "Undertekst"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Shop",
      "label": "Knap tekst"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Knap link"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Billede"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Farveskema",
      "default": "background-1"
    }
  ],
  "presets": [
    {
      "name": "Tanrevel Hero",
      "category": "Hero"
    }
  ]
}
{% endschema %}
